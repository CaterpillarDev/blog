<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="caterpillarDev"/><link rel="canonical" href="caterpillarDev.github.io/posts/2020/MVC"/><meta name="twitter:url" content="caterpillarDev.github.io/posts/2020/MVC"/><meta name="og:url" content="caterpillarDev.github.io/posts/2020/MVC"/><title>MVC - model view controller | caterpillarDev</title><meta name="twitter:title" content="MVC - model view controller | caterpillarDev"/><meta name="og:title" content="MVC - model view controller | caterpillarDev"/><meta name="description" content="Personal blog."/><meta name="twitter:description" content="Personal blog."/><meta name="og:description" content="Personal blog."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/primer.css" type="text/css"/><link rel="stylesheet" href="/highlight.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to caterpillarDev"/></head><body><header><div class="border-bottom border-gray-light"><div class="container-md px-3 my-3 markdown-body"><h3><a class="text-gray-dark no-underline" href="/">caterpillar.dev</a></h3></div><div class="d-flex flex-justify-center"><p class="text-small text-gray v-align-middle">Reach me on <a href="https://www.linkedin.com/in/nikolamatijevic">LinkedIn</a> or <a href="https://twitter.com/nmatijevic1">Twitter</a></p></div></div></header><div class="container-md px-3 my-5 markdown-body"><p class="text-small text-gray">15 March 2020</p><p class="text-small text-gray">Reading time: 10mins</p><h1>MVC - model view controller</h1><p>Model-view-controller, more known under abbreviation <strong>MVC</strong>, is a <a href="https://en.wikipedia.org/wiki/Software_design_pattern"><em>design pattern</em></a>, used for handling user interactions with your software. MVC separates entire system into three separated components interacting with each other:</p><img src="/images/MVC.png" alt="MVC"/><h2>Basics</h2><p>After user generates an action, like pressing a button, <strong>controller</strong> is the component that is in charge of handling these interactions. What controller does is manipulate[1] the <strong>model</strong>. After that, model <em>notifies</em> the <strong>view</strong>, which contains rendering and formatting logic required to present changes to the user. There is a significant differnce in communication between Controller-Model and Model-View parts of MVC.</p><p>Controller directly references the model, being dependent on it. Model is central part of the entire desing pattern, holding all the business logic of the software system itself. <em>Business logic</em> presents real-world business rules you are trying to replicate in form of a software. That makes model the most important part of the system, absolutely <em>independent</em> of all other components.</p><p>If you take a closer look at the graph itself, you notice that there is a discontinous line pointing from model to view. This doesn't mean that model actually references the view itself. The way model <em>updates</em>[2] the view is a blind communication, meaning that model doesn't have an idea about the view. One example of this type of communication is notification pattern which is presented in code samples below.</p><h2>Code Samples</h2><p>In this part, I will present the above stated pattern through a very basic implementation letting you get a better understanding of how components work together.</p><h4>Controller</h4><pre><code><span class="keyword">struct</span> Controller {
    <span class="keyword">let</span> model = <span class="type">Model</span>()
    <span class="comment">//usually trigered by connection action to UI element, like a button
    //in iOS, more known under term IBAction</span>
    
    <span class="keyword">func</span> performSomeBusinessLogic() {
        <span class="call">print</span>(<span class="string">"performing some changes on self"</span>)
        <span class="comment">//Notification pattern - posting a notification
        //represent action [2] on graph</span>
        <span class="type">NotificationCenter</span>.<span class="property">default</span>.<span class="call">post</span>(<span class="type">Notification</span>(name: <span class="type">Notification</span>.<span class="type">Name</span>(<span class="string">"businessLogicUpdated"</span>)))
    }
}

</code></pre><h4>Model</h4><pre><code><span class="keyword">struct</span> Model {

    <span class="keyword">func</span> performSomeBusinessLogic() {
        <span class="call">print</span>(<span class="string">"performing some changes on self"</span>)
        <span class="comment">//Notification pattern - posting a notification
        //represent action [2] on graph</span>
        <span class="type">NotificationCenter</span>.<span class="property">default</span>.<span class="call">post</span>(<span class="type">Notification</span>(name: <span class="type">Notification</span>.<span class="type">Name</span>(<span class="string">"businessLogicUpdated"</span>)))
    }
}
</code></pre><h3>View</h3><pre><code><span class="keyword">class</span> View {
    
    <span class="keyword">init</span>() {
        <span class="comment">//Notification pattern - adding an observer</span>
        <span class="type">NotificationCenter</span>.<span class="property">default</span>.<span class="call">addObserver</span>(<span class="keyword">self</span>, selector: <span class="keyword">#selector</span>(performUIUpdates), name: <span class="type">Notification</span>.<span class="type">Name</span>(<span class="string">"businessLogicUpdated"</span>), object: <span class="keyword">nil</span>)
    }
    
    <span class="keyword">@objc func</span> performUIUpdates() {
        <span class="call">print</span>(<span class="string">"Updating UI"</span>)
    }
}
</code></pre><h3>Running example code in playground in Xcode:</h3><pre><code><span class="keyword">let</span> contoller = <span class="type">Controller</span>()
<span class="keyword">let</span> view = <span class="type">View</span>()
contoller.<span class="call">userTappedButton</span>()
</code></pre><h3>Output</h3><p>Feel free to clone code samples from my GitHub <a href="https://github.com/nmatijevic1/BlogCodeSamples">repo</a>. You can see the output printed in console.</p><h2>Problems</h2><p>When it comes to MVC and functionality belonging, the <em>separation of concerns</em> is not clearly defined. MVC was invented in 1970s and was appropriate for that point in time. Most softwares at that point were just presenting data stored in databases. Modern software includes way more functionalities. Separation into three layers is simply not strict enough and leaves a lot of room for developers to decide. What happens is, as codebase grows, one of the layers ( usully model ) becomes huge, hard to understand and mantain. This problem <em>cannot be solved using MVC</em>.</p><h2>Conclusion</h2><p>MVC is useful approach if you are building a prototype or a project with small codebase.Therefore, as your project grows you will need to shift towards more detailed and strict architectural approraches that leave enough room to be flexible, yet not too much to make your project unmaintainable. Solution to this problem will be covered in a series coming soon. Stay tuned!</p></div><footer><div class="container-md px-3 my-5 markdown-body"><div class="d-flex flex-justify-center"><p class="text-small text-gray v-align-middle">Styled with <a href="https://primer.style">Primer</a> | Generated using <a href="https://github.com/johnsundell/publish">Publish</a> | Hosted on <a href="https://pages.github.com">GitHub Pages</a></p></div></div></footer></body></html>