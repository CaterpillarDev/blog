<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="caterpillarDev"/><link rel="canonical" href="caterpillarDev.github.io/posts/MVVM"/><meta name="twitter:url" content="caterpillarDev.github.io/posts/MVVM"/><meta name="og:url" content="caterpillarDev.github.io/posts/MVVM"/><title>MVVM - Model View ViewModel | caterpillarDev</title><meta name="twitter:title" content="MVVM - Model View ViewModel | caterpillarDev"/><meta name="og:title" content="MVVM - Model View ViewModel | caterpillarDev"/><meta name="description" content="Personal blog."/><meta name="twitter:description" content="Personal blog."/><meta name="og:description" content="Personal blog."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/primer.css" type="text/css"/><link rel="stylesheet" href="/highlight.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to caterpillarDev"/></head><body><header><div class="border-bottom border-gray-light"><div class="container-md px-3 my-3 markdown-body"><h3><a class="text-gray-dark no-underline" href="/">caterpillar.dev</a></h3></div><div class="d-flex flex-justify-center"><p class="text-small text-gray v-align-middle">Reach me on <a href="https://www.linkedin.com/in/nikolamatijevic">LinkedIn</a> or <a href="https://twitter.com/nmatijevic1">Twitter</a></p></div></div></header><div class="container-md px-3 my-5 markdown-body"><p class="text-small text-gray">17 April 2020</p><p class="text-small text-gray">Reading time: 6mins</p><h1>MVVM - Model View ViewModel</h1><p>Model-View-ViewModel, also known as MVVM, is a similar three-layered <a href="https://en.wikipedia.org/wiki/Software_design_pattern"><em>design pattern</em></a> as MVC used for handling user interactions with your software. As you will see, MVVM solves the same problem as MVC in a different way, but with pretty much the same problems.</p><p>Let's take a look at how these three layers fit together:</p><img src="/images/MVVM.jpg" alt="MVVM"/><h2>Basics</h2><p>First difference we can see is that <code>View</code> doesn't have a <strong>direct</strong> reference to the <code>ViewModel</code>, which is different from MVC which you can see in my <a href="https://caterpillardev.com/posts/MVC/">previous article</a>.</p><p>Also, responsibilities are now split a bit differently. <strong><code>Model</code></strong> still stays you <a href="https://en.wikipedia.org/wiki/Single_source_of_truth">single source of truth</a>, which is responsible for encapsulating all of your business logic. All your logic should be here, independent of all external sources in your app (e.g server/database).</p><blockquote><p><strong>Your source of truth should never care about external dependencies</strong></p></blockquote><p>I cannot express importance of this separation enough. It leads to easier maintenance, improved testability and overall increase in stability and speed. However that is not possible with MVVM and you are about to find out why.</p><p>Responsibility of formatting has now been moved to <code>ViewModel</code>. You can see <code>ViewModel</code> as an interpreter between user interactions with a view and changes that your <code>Model</code> makes. Also, as you can see from the image, it also handles user events.</p><h2>Problems</h2><p>What happens with other responsibilities of your app is the crucial thing. To list just some of them :</p><ul><li>Networking</li><li>Routing</li><li>Parsing</li><li>Persistent storage</li></ul><p>But, what most people don't know is that these <strong>are not</strong> problems MVVM is trying to solve.</p><blockquote><p><strong>MVVM is a UI design pattern meant to handle user interactions with your app.</strong></p></blockquote><p>The problem behind building your whole app in <code>MVVM</code> is that all of these bits and pieces still have to exist somewhere in your app and developer is the one who decides how and where do they fit the best.</p><p>This may vary based on example but how it usually looks in the end is something like this:</p><img src="/images/MVVM2.jpg"/><p>What this leads to is huge and monolithical components which are impossible to maintain, scale and test. Also, as they grow, adding features becomes harder and harder until it becomes impossible. Been there.</p><h2>Conclusion</h2><p>If you are following the latest trends in iOS development, you know about <code>SwiftUI</code> and <code>Combine</code>. Even though they are kind of built for MVVM, it's still possible to use them with a proper architectural solutions. If some stuff here is not clear enough, feel free to reach me on <a href="https://www.linkedin.com/in/nikolamatijevic">LinkedIn</a> or <a href="https://twitter.com/nmatijevic1">Twitter</a> or even change my mind.</p><p>In my next article I will explain basis of architecture I have been working with for a couple of years now on some huge projects (~300k LoC). Stay tuned!</p><h2>Resources</h2><p>Resources recommended in this article:</p><ul><li><a href="https://en.wikipedia.org/wiki/Software_design_pattern">Design pattern</a></li><li>My previous MVC <a href="https://caterpillardev.com/posts/MVC/">article</a></li><li><a href="https://en.wikipedia.org/wiki/Single_source_of_truth">Single source of truth</a></li></ul></div><footer><div class="container-md px-3 my-5 markdown-body"><div class="d-flex flex-justify-center"><p class="text-small text-gray v-align-middle">Styled with <a href="https://primer.style">Primer</a> | Generated using <a href="https://github.com/johnsundell/publish">Publish</a> | Hosted on <a href="https://pages.github.com">GitHub Pages</a></p></div></div></footer></body></html>